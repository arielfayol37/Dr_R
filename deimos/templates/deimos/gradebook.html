<div>
    <style>
            .progress {
              width: 80%;
              height: 20px;
              margin-left:10%;
            }
      </style>
<br>
<div class="progress" data-score="{{course_score}}"><!-- Please calculate total score/100-->
    <div class="progress-bar bg-success" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
</div>

<br>
    <div class="title"><u><h1>{{student.first_name}} {{student.last_name}}'s Report</h1></u></div>
<br>

    <table class="table table-striped table-bordered table-hover">
        <thead>
            <tr>
                <th> Assignments</th>
                <th> Grades </th>
            </tr>
        </thead>
        <tbody>
            {% for assignment in assignment_student_grade %}
            <tr>
                <td> <a href="{% url 'deimos:assignemt_gradebook_student' student_id=student.id assignment_id=assignment.id %}">
                    <b>{{assignment.assignment_student.assignment.name}}</b></a>
                </td> 
                    <td> {{assignment.grade}} %</td>
            </tr>
            {% if forloop.last %}
              <input  class ="num_assignments" type="hidden" data-num_assignments="{{ forloop.counter}}">
            {% endif %}
            {% endfor %}
            <tr>
                <td><b>COURSE SCORE</b></td>
                <td>{{course_score}} %</td>
            </tr>
        </tbody>
    </table>


</div>


<script>
    // Get the progress element
    var progress = document.querySelector(".progress");
    // Set the value of the progress element to the score
    var score = parseFloat(progress.dataset.score)
    score = score.toFixed(2);
     // Get the progress-bar element inside the progress element
    var progressBar = progress.querySelector(".progress-bar");

    // Add the progress-bar class to the progress-bar element
    progressBar.classList.add("progress-bar");

    // Set the width of the progress-bar element to the score percentage
    progressBar.style.width = score + "%";

    // Set the text inside the progress-bar element to the score percentage
    progressBar.textContent = score + "%";

    // Change the color of the progress-bar element based on the score
    if (score > 94) {
      // If score is greater than 94, use green color
      progressBar.classList.add("bg-success");
    } else if (score > 85) {

      progressBar.classList.add("bg-info");
    } else if (score > 70) {

      progressBar.classList.add("bg-warning");
    } else {

      progressBar.classList.add("bg-danger");
    }
    console.log(progressBar.className)
  </script>